(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";var socket=require("./socket");var emitter=require("./emitter");var notify=require("./notify");var utils=require("./browser.utils");var merge=require("lodash.merge");var objGet=require("lodash.get");var storage=require("./store");var BrowserSync=function BrowserSync(options){this.options=options;this.socket=socket;this.emitter=emitter;this.utils=utils;this.store=storage.create(options.sessionId);var _this=this;var bs=this;if(!this.store.get("client")){this.store.set("client",{id:this.socket.socket.id})}var currentId=this.store.get("client.id");bs.register();socket.on("Options.set",function(data){if(data.id===currentId){console.log("received",data.options);merge(_this.options,data.options)}});socket.on("reconnect",function(){utils.reloadBrowser()});var resizing=false;var timeout=1e3;var int;utils.getWindow().addEventListener("resize",function(){if(!resizing){resizing=true;int=setTimeout(function(){resizing=false;clearTimeout(int);bs.register()},timeout)}})};BrowserSync.prototype.register=function(){var bs=this;var options=this.options;socket.emit("Client.register",{client:bs.store.get("client"),data:{hash:utils.getWindow().location.hash,sessionId:options.sessionId,socketId:bs.socket.socket.id,browser:{scroll:utils.getBrowserScrollPosition(),dimensions:{width:utils.getDocument().documentElement.scrollWidth,height:utils.getDocument().documentElement.scrollHeight}}}})};BrowserSync.prototype.canSync=function(data,optPath){data=data||{};if(data.override){return true}var canSync=true;if(optPath){canSync=this.getOption(optPath)}return canSync&&data.url===window.location.pathname};BrowserSync.prototype.getOption=function(path){return objGet(this.options,path)};module.exports=BrowserSync},{"./browser.utils":2,"./emitter":5,"./notify":16,"./socket":17,"./store":18,"lodash.get":19,"lodash.merge":23}],2:[function(require,module,exports){"use strict";var utils=exports;var emitter=require("./emitter");utils.getWindow=function(){return window};utils.getDocument=function(){return document};utils.getBrowserScrollPosition=function(){var $window=exports.getWindow();var $document=exports.getDocument();var scrollX;var scrollY;var dElement=$document.documentElement;var dBody=$document.body;if($window.pageYOffset!==undefined){scrollX=$window.pageXOffset;scrollY=$window.pageYOffset}else{scrollX=dElement.scrollLeft||dBody.scrollLeft||0;scrollY=dElement.scrollTop||dBody.scrollTop||0}return{x:scrollX,y:scrollY}};utils.getScrollSpace=function(){var $document=exports.getDocument();var dElement=$document.documentElement;var dBody=$document.body;return{x:dBody.scrollHeight-dElement.clientWidth,y:dBody.scrollHeight-dElement.clientHeight}};utils.saveScrollPosition=function(){var pos=utils.getBrowserScrollPosition();pos=[pos.x,pos.y];utils.getDocument.cookie="bs_scroll_pos="+pos.join(",")};utils.restoreScrollPosition=function(){var pos=utils.getDocument().cookie.replace(/(?:(?:^|.*;\s*)bs_scroll_pos\s*\=\s*([^;]*).*$)|^.*$/,"$1").split(",");utils.getWindow().scrollTo(pos[0],pos[1])};utils.getElementIndex=function(tagName,elem){var allElems=utils.getDocument().getElementsByTagName(tagName);return Array.prototype.indexOf.call(allElems,elem)};utils.forceChange=function(elem){elem.blur();elem.focus()};utils.getElementData=function(elem){var tagName=elem.tagName;var index=utils.getElementIndex(tagName,elem);return{tagName:tagName,index:index}};utils.getSingleElement=function(tagName,index){var elems=utils.getDocument().getElementsByTagName(tagName);return elems[index]};utils.getBody=function(){return utils.getDocument().getElementsByTagName("body")[0]};utils.setScroll=function(pos){utils.getWindow().scrollTo(pos.x,pos.y)};utils.reloadBrowser=function(){emitter.emit("browser:hardReload");utils.getWindow().location.reload(true)};utils.forEach=function(coll,fn){for(var i=0,n=coll.length;i<n;i+=1){fn(coll[i],i,coll)}};utils.isOldIe=function(){return typeof utils.getWindow().attachEvent!=="undefined"}},{"./emitter":5}],3:[function(require,module,exports){"use strict";if(!("indexOf"in Array.prototype)){Array.prototype.indexOf=function(find,i){if(i===undefined){i=0}if(i<0){i+=this.length}if(i<0){i=0}for(var n=this.length;i<n;i+=1){if(i in this&&this[i]===find){return i}}return-1}}},{}],4:[function(require,module,exports){"use strict";var events=require("./events");var utils=require("./browser.utils");var emitter=require("./emitter");var sync=exports;var options={tagNames:{css:"link",jpg:"img",jpeg:"img",png:"img",svg:"img",gif:"img",js:"script"},attrs:{link:"href",img:"src",script:"src"}};var hiddenElem;var OPT_PATH="codeSync";var current=function current(){return window.location.pathname};sync.init=function(bs){if(bs.options.tagNames){options.tagNames=bs.options.tagNames}if(bs.options.scrollRestoreTechnique==="window.name"){}else{sync.saveScrollInCookie(utils.getWindow(),utils.getDocument())}bs.socket.on("Global.inject",sync.reload(bs));bs.socket.on("Global.reload",function(hard){if(bs.canSync({url:current()},OPT_PATH)){sync.reloadBrowser(hard,bs)}})};sync.saveScrollInName=function(){var $window=utils.getWindow();var saved={};emitter.on("browser:hardReload",function(){$window.name=$window.name+"bs="+JSON.stringify({bs:{hardReload:true,scroll:utils.getBrowserScrollPosition()}})});try{var json=$window.name.match(/bs=(.+)$/);if(json){saved=JSON.parse(json[1])}}catch(e){saved={}}if(saved.bs&&saved.bs.hardReload&&saved.bs.scroll){utils.setScroll(saved.bs.scroll)}console.log($window.name);$window.name=""};sync.saveScrollInCookie=function($window,$document){if(!utils.isOldIe()){return}if($document.readyState==="complete"){utils.restoreScrollPosition()}else{events.manager.addEvent($document,"readystatechange",function(){if($document.readyState==="complete"){utils.restoreScrollPosition()}})}emitter.on("browser:hardReload",utils.saveScrollPosition)};sync.swapFile=function(elem,attr,options){var currentValue=elem[attr];var timeStamp=(new Date).getTime();var suffix="?rel="+timeStamp;var justUrl=sync.getFilenameOnly(currentValue);if(justUrl){currentValue=justUrl[0]}if(options){if(!options.timestamps){suffix=""}}elem[attr]=currentValue+suffix;var body=document.body;setTimeout(function(){if(!hiddenElem){hiddenElem=document.createElement("DIV");body.appendChild(hiddenElem)}else{hiddenElem.style.display="none";hiddenElem.style.display="block"}},200);return{elem:elem,timeStamp:timeStamp}};sync.getFilenameOnly=function(url){return/^[^\?]+(?=\?)/.exec(url)};sync.reload=function(bs){return function(data){if(!bs.canSync({url:current()},OPT_PATH)){return}var transformedElem;var options=bs.options;var emitter=bs.emitter;var file=data.file;var domData=sync.getElems(file.ext);var elems=sync.getMatches(domData.elems,file.basename,domData.attr);if(elems.length&&options.notify){emitter.emit("notify",{message:"Injected: "+file.basename})}for(var i=0,n=elems.length;i<n;i+=1){transformedElem=sync.swapFile(elems[i],domData.attr,options)}return transformedElem}};sync.getTagName=function(fileExtension){return options.tagNames[fileExtension]};sync.getAttr=function(tagName){return options.attrs[tagName]};sync.getMatches=function(elems,url,attr){if(url[0]==="*"){return elems}var matches=[];for(var i=0,len=elems.length;i<len;i+=1){if(elems[i][attr].indexOf(url)!==-1){matches.push(elems[i])}}return matches};sync.getElems=function(fileExtension){var tagName=sync.getTagName(fileExtension);var attr=sync.getAttr(tagName);return{elems:document.getElementsByTagName(tagName),attr:attr}};sync.reloadBrowser=function(confirm){if(confirm){utils.reloadBrowser()}}},{"./browser.utils":2,"./emitter":5,"./events":6}],5:[function(require,module,exports){"use strict";exports.events={};exports.emit=function(name,data){var event=exports.events[name];var listeners;if(event&&event.listeners){listeners=event.listeners;for(var i=0,n=listeners.length;i<n;i+=1){listeners[i](data)}}};exports.on=function(name,func){var events=exports.events;if(!events[name]){events[name]={listeners:[func]}}else{events[name].listeners.push(func)}}},{}],6:[function(require,module,exports){"use strict";exports._ElementCache=function(){var cache={},guidCounter=1,expando="data"+(new Date).getTime();this.getData=function(elem){var guid=elem[expando];if(!guid){guid=elem[expando]=guidCounter++;cache[guid]={}}return cache[guid]};this.removeData=function(elem){var guid=elem[expando];if(!guid)return;delete cache[guid];try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}}};exports._fixEvent=function(event){function returnTrue(){return true}function returnFalse(){return false}if(!event||!event.stopPropagation){var old=event||window.event;event={};for(var prop in old){event[prop]=old[prop]}if(!event.target){event.target=event.srcElement||document}event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement;event.preventDefault=function(){event.returnValue=false;event.isDefaultPrevented=returnTrue};event.isDefaultPrevented=returnFalse;event.stopPropagation=function(){event.cancelBubble=true;event.isPropagationStopped=returnTrue};event.isPropagationStopped=returnFalse;event.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()};event.isImmediatePropagationStopped=returnFalse;if(event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}event.which=event.charCode||event.keyCode;if(event.button!=null){event.button=event.button&1?0:event.button&4?1:event.button&2?2:0}}return event};exports._EventManager=function(cache){var nextGuid=1;this.addEvent=function(elem,type,fn){var data=cache.getData(elem);if(!data.handlers)data.handlers={};if(!data.handlers[type])data.handlers[type]=[];if(!fn.guid)fn.guid=nextGuid++;data.handlers[type].push(fn);if(!data.dispatcher){data.disabled=false;data.dispatcher=function(event){if(data.disabled)return;event=exports._fixEvent(event);var handlers=data.handlers[event.type];if(handlers){for(var n=0;n<handlers.length;n++){handlers[n].call(elem,event)}}}}if(data.handlers[type].length==1){if(document.addEventListener){elem.addEventListener(type,data.dispatcher,false)}else if(document.attachEvent){elem.attachEvent("on"+type,data.dispatcher)}}};function tidyUp(elem,type){function isEmpty(object){for(var prop in object){return false}return true}var data=cache.getData(elem);if(data.handlers[type].length===0){delete data.handlers[type];if(document.removeEventListener){elem.removeEventListener(type,data.dispatcher,false)}else if(document.detachEvent){elem.detachEvent("on"+type,data.dispatcher)}}if(isEmpty(data.handlers)){delete data.handlers;delete data.dispatcher}if(isEmpty(data)){cache.removeData(elem)}}this.removeEvent=function(elem,type,fn){var data=cache.getData(elem);if(!data.handlers)return;var removeType=function removeType(t){data.handlers[t]=[];tidyUp(elem,t)};if(!type){for(var t in data.handlers){removeType(t)}return}var handlers=data.handlers[type];if(!handlers)return;if(!fn){removeType(type);return}if(fn.guid){for(var n=0;n<handlers.length;n++){if(handlers[n].guid===fn.guid){handlers.splice(n--,1)}}}tidyUp(elem,type)};this.proxy=function(context,fn){if(!fn.guid){fn.guid=nextGuid++}var ret=function ret(){return fn.apply(context,arguments)};ret.guid=fn.guid;return ret}};exports.triggerClick=function(elem){var evObj;if(document.createEvent){window.setTimeout(function(){evObj=document.createEvent("MouseEvents");evObj.initEvent("click",true,true);elem.dispatchEvent(evObj)},0)}else{window.setTimeout(function(){if(document.createEventObject){evObj=document.createEventObject();evObj.cancelBubble=true;elem.fireEvent("on"+"click",evObj)}},0)}};var cache=new exports._ElementCache;var eventManager=new exports._EventManager(cache);eventManager.triggerClick=exports.triggerClick;exports.manager=eventManager},{}],7:[function(require,module,exports){"use strict";var EVENT_NAME="click";var OPT_PATH="ghostMode.clicks";exports.canEmitEvents=true;exports.init=function(bs,eventManager){eventManager.addEvent(document.body,EVENT_NAME,exports.browserEvent(bs));bs.socket.on(EVENT_NAME,exports.socketEvent(bs,eventManager))};exports.browserEvent=function(bs){return function(event){if(exports.canEmitEvents){var elem=event.target||event.srcElement;if(elem.type==="checkbox"||elem.type==="radio"){bs.utils.forceChange(elem);return}bs.socket.emit(EVENT_NAME,bs.utils.getElementData(elem))}else{exports.canEmitEvents=true}}};exports.socketEvent=function(bs,eventManager){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}var elem=bs.utils.getSingleElement(data.tagName,data.index);if(elem){exports.canEmitEvents=false;eventManager.triggerClick(elem)}}}},{}],8:[function(require,module,exports){"use strict";var EVENT_NAME="input:text";var OPT_PATH="ghostMode.forms.inputs";exports.canEmitEvents=true;exports.init=function(bs,eventManager){eventManager.addEvent(document.body,"keyup",exports.browserEvent(bs));bs.socket.on(EVENT_NAME,exports.socketEvent(bs,eventManager))};exports.browserEvent=function(bs){return function(event){var elem=event.target||event.srcElement;var data;if(exports.canEmitEvents){if(elem.tagName==="INPUT"||elem.tagName==="TEXTAREA"){data=bs.utils.getElementData(elem);data.value=elem.value;bs.socket.emit(EVENT_NAME,data)}}else{exports.canEmitEvents=true}}};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}var elem=bs.utils.getSingleElement(data.tagName,data.index);if(elem){elem.value=data.value;return elem}return false}}},{}],9:[function(require,module,exports){"use strict";exports.plugins={inputs:require("./ghostmode.forms.input"),toggles:require("./ghostmode.forms.toggles"),submit:require("./ghostmode.forms.submit")};exports.init=function(bs,eventManager){var checkOpt=true;var options=bs.options.ghostMode.forms;if(options===true){checkOpt=false}function init(name){exports.plugins[name].init(bs,eventManager)}for(var name in exports.plugins){if(!checkOpt){init(name)}else{if(options[name]){init(name)}}}}},{"./ghostmode.forms.input":8,"./ghostmode.forms.submit":10,"./ghostmode.forms.toggles":11}],10:[function(require,module,exports){"use strict";var EVENT_NAME="form:submit";var OPT_PATH="ghostMode.forms.submit";exports.canEmitEvents=true;exports.init=function(bs,eventManager){var browserEvent=exports.browserEvent(bs);eventManager.addEvent(document.body,"submit",browserEvent);eventManager.addEvent(document.body,"reset",browserEvent);bs.socket.on(EVENT_NAME,exports.socketEvent(bs,eventManager))};exports.browserEvent=function(bs){return function(event){if(exports.canEmitEvents){var elem=event.target||event.srcElement;var data=bs.utils.getElementData(elem);data.type=event.type;bs.socket.emit(EVENT_NAME,data)}else{exports.canEmitEvents=true}}};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}var elem=bs.utils.getSingleElement(data.tagName,data.index);exports.canEmitEvents=false;if(elem&&data.type==="submit"){elem.submit()}if(elem&&data.type==="reset"){elem.reset()}return false}}},{}],11:[function(require,module,exports){"use strict";var EVENT_NAME="input:toggles";var OPT_PATH="ghostMode.forms.toggles";exports.canEmitEvents=true;exports.init=function(bs,eventManager){var browserEvent=exports.browserEvent(bs);exports.addEvents(eventManager,browserEvent);bs.socket.on(EVENT_NAME,exports.socketEvent(bs,eventManager))};exports.addEvents=function(eventManager,event){var elems=document.getElementsByTagName("select");var inputs=document.getElementsByTagName("input");addEvents(elems);addEvents(inputs);function addEvents(domElems){for(var i=0,n=domElems.length;i<n;i+=1){eventManager.addEvent(domElems[i],"change",event)}}};exports.browserEvent=function(bs){return function(event){if(exports.canEmitEvents){var elem=event.target||event.srcElement;var data;if(elem.type==="radio"||elem.type==="checkbox"||elem.tagName==="SELECT"){data=bs.utils.getElementData(elem);data.type=elem.type;data.value=elem.value;data.checked=elem.checked;bs.socket.emit(EVENT_NAME,data)}}else{exports.canEmitEvents=true}}};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}exports.canEmitEvents=false;var elem=bs.utils.getSingleElement(data.tagName,data.index);if(elem){if(data.type==="radio"){elem.checked=true}if(data.type==="checkbox"){elem.checked=data.checked}if(data.tagName==="SELECT"){elem.value=data.value}return elem}return false}}},{}],12:[function(require,module,exports){"use strict";var eventManager=require("./events").manager;exports.plugins={scroll:require("./ghostmode.scroll"),clicks:require("./ghostmode.clicks"),forms:require("./ghostmode.forms"),location:require("./ghostmode.location")};exports.init=function(bs){for(var name in exports.plugins){exports.plugins[name].init(bs,eventManager)}}},{"./events":6,"./ghostmode.clicks":7,"./ghostmode.forms":9,"./ghostmode.location":13,"./ghostmode.scroll":14}],13:[function(require,module,exports){"use strict";var EVENT_NAME="browser:location";var OPT_PATH="ghostMode.location";exports.canEmitEvents=true;exports.init=function(bs){bs.socket.on(EVENT_NAME,exports.socketEvent(bs))};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}if(data.path){exports.setPath(data.path);if(data.path.match(/#/)){bs.register()}}else{exports.setUrl(data.url)}}};exports.setUrl=function(url){window.location=url};exports.setPath=function(path){window.location=window.location.protocol+"//"+window.location.host+path}},{}],14:[function(require,module,exports){"use strict";var WINDOW_EVENT_NAME="scroll";var ELEMENT_EVENT_NAME="scroll:element";var OPT_PATH="ghostMode.scroll";var utils;exports.canEmitEvents=true;exports.init=function(bs,eventManager){utils=bs.utils;var opts=bs.options;eventManager.addEvent(window,WINDOW_EVENT_NAME,exports.browserEvent(bs));bs.socket.on(WINDOW_EVENT_NAME,exports.socketEvent(bs));var cache={};addElementScrollEvents("scrollElements",false);addElementScrollEvents("scrollElementMapping",true);bs.socket.on(ELEMENT_EVENT_NAME,exports.socketEventForElement(bs,cache));function addElementScrollEvents(key,map){if(!opts[key]||!opts[key].length||!("querySelectorAll"in document)){return}utils.forEach(opts[key],function(selector){var elems=document.querySelectorAll(selector)||[];utils.forEach(elems,function(elem){var data=utils.getElementData(elem);data.cacheSelector=data.tagName+":"+data.index;data.map=map;cache[data.cacheSelector]=elem;eventManager.addEvent(elem,WINDOW_EVENT_NAME,exports.browserEventForElement(bs,elem,data))})})}};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}var scrollSpace=utils.getScrollSpace();exports.canEmitEvents=false;if(bs.options&&bs.options.scrollProportionally){return window.scrollTo(0,scrollSpace.y*data.position.proportional)}else{return window.scrollTo(0,data.position.raw)}}};exports.socketEventForElement=function(bs,cache){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}exports.canEmitEvents=false;function scrollOne(selector,pos){if(cache[selector]){cache[selector].scrollTop=pos}}if(data.map){return Object.keys(cache).forEach(function(key){scrollOne(key,data.position)})}scrollOne(data.elem.cacheSelector,data.position)}};exports.browserEventForElement=function(bs,elem,data){return function(){var canSync=exports.canEmitEvents;if(canSync){bs.socket.emit(ELEMENT_EVENT_NAME,{position:elem.scrollTop,elem:data,map:data.map})}exports.canEmitEvents=true}};exports.browserEvent=function(bs){return function(){var canSync=exports.canEmitEvents;if(canSync){bs.socket.emit(WINDOW_EVENT_NAME,{position:exports.getScrollPosition()})}exports.canEmitEvents=true}};exports.getScrollPosition=function(){var pos=utils.getBrowserScrollPosition();return{raw:pos,proportional:exports.getScrollTopPercentage(pos)}};exports.getScrollPercentage=function(scrollSpace,scrollPosition){var x=scrollPosition.x/scrollSpace.x;var y=scrollPosition.y/scrollSpace.y;return{x:x||0,y:y}};exports.getScrollTopPercentage=function(pos){var scrollSpace=utils.getScrollSpace();var percentage=exports.getScrollPercentage(scrollSpace,pos);return percentage.y}},{}],15:[function(require,module,exports){"use strict";var socket=require("./socket");var shims=require("./client-shims");var notify=require("./notify");var codeSync=require("./code-sync");var BrowserSync=require("./browser-sync");var ghostMode=require("./ghostmode");var emitter=require("./emitter");var events=require("./events");var utils=require("./browser.utils");var shouldReload=false;var initialised=false;exports.init=function(options){if(shouldReload&&options.reloadOnRestart){utils.reloadBrowser()}var BS=window.___browserSync___||{};if(!BS.client){BS.client=true;var browserSync=new BrowserSync(options);ghostMode.init(browserSync);codeSync.init(browserSync);notify.init(browserSync);if(options.notify){notify.flash("Connected to BrowserSync as "+browserSync.store.get("client.id"))}}if(!initialised){socket.on("disconnect",function(){if(options.notify){notify.flash("Disconnected from BrowserSync")}shouldReload=true});initialised=true}};socket.on("connection",exports.init)},{"./browser-sync":1,"./browser.utils":2,"./client-shims":3,"./code-sync":4,"./emitter":5,"./events":6,"./ghostmode":12,"./notify":16,"./socket":17}],16:[function(require,module,exports){"use strict";var scroll=require("./ghostmode.scroll");var styles=["display: none","padding: 15px","font-family: sans-serif","position: fixed","font-size: 0.9em","z-index: 9999","right: 0px","top: 0px","border-bottom-left-radius: 5px","background-color: #1B2032","margin: 0","color: white","text-align: center"];var browserSync;var elem;var options;var timeoutInt;exports.init=function(bs){browserSync=bs;options=bs.options;var cssStyles=styles;if(options.notify.styles){cssStyles=options.notify.styles}elem=document.createElement("DIV");elem.id="__bs_notify__";elem.style.cssText=cssStyles.join(";");document.getElementsByTagName("body")[0].appendChild(elem);var flashFn=exports.watchEvent();browserSync.emitter.on("notify",flashFn);browserSync.socket.on("browser:notify",flashFn);return elem};exports.watchEvent=function(){return function(data){if(typeof data==="string"){return exports.flash(data)}exports.flash(data.message,data.timeout)}};exports.getElem=function(){return elem};exports.getScrollTop=function(){return browserSync.utils.getBrowserScrollPosition().y};exports.flash=function(message,timeout){var elem=exports.getElem();if(!elem){return false}elem.innerHTML=message;elem.style.display="block";if(timeoutInt){clearTimeout(timeoutInt);timeoutInt=undefined}timeoutInt=window.setTimeout(function(){elem.style.display="none"},timeout||2e3);return elem}},{"./ghostmode.scroll":14}],17:[function(require,module,exports){"use strict";var BS=window.___browserSync___||{};exports.socket=BS.socket||{emit:function emit(){},on:function on(){}};exports.getPath=function(){return window.location.pathname};exports.emit=function(name,data){var socket=exports.socket;if(socket&&socket.emit){data.url=exports.getPath();socket.emit(name,data)}};exports.on=function(name,func){exports.socket.on(name,func)}},{}],18:[function(require,module,exports){"use strict";var utils=require("./browser.utils");var $window=utils.getWindow();var merge=require("lodash.merge");var objGet=require("lodash.get");var objSet=require("lodash.set");var PREFIX="bs=";function getFromName(){try{var json=$window.name.match(/bs=(.+)$/);if(json){return JSON.parse(json[1])}}catch(e){console.log("Could not parse saved JSON")}return{}}function saveInName(incoming){$window.name=PREFIX+JSON.stringify(incoming)}function wipeName(){$window.name=""}function createFromId(id){function get(path){if(typeof path==="string"){path=path.split(".")}var prev=getFromName();if(prev[id]){return objGet(prev,[id].concat(path))}return undefined}function set(path,value,mergeValues){var prev=getFromName();if(prev[id]){var newValues=mergeValues?merge({},objGet(prev[id],path),value):value;objSet(prev[id],path,newValues);saveInName(prev);return prev}else{wipeName();var newSession={};newSession[id]=objSet({},path,value);saveInName(newSession);return newSession}}return{get:get,set:set,merge:merge}}function create(id){return createFromId(id)}module.exports.create=create},{"./browser.utils":2,"lodash.get":19,"lodash.merge":23,"lodash.set":40}],19:[function(require,module,exports){var baseGet=require("lodash._baseget"),toPath=require("lodash._topath");function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result}module.exports=get},{"lodash._baseget":20,"lodash._topath":21}],20:[function(require,module,exports){function baseGet(object,path,pathKey){if(object==null){return}if(pathKey!==undefined&&pathKey in toObject(object)){path=[pathKey]}var index=0,length=path.length;while(object!=null&&index<length){object=object[path[index++]]}return index&&index==length?object:undefined}function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=baseGet},{}],21:[function(require,module,exports){var isArray=require("lodash.isarray");var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;var reEscapeChar=/\\(\\)?/g;function baseToString(value){return value==null?"":value+""}function toPath(value){if(isArray(value)){return value}var result=[];baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result}module.exports=toPath},{"lodash.isarray":22}],22:[function(require,module,exports){var arrayTag="[object Array]",funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var nativeIsArray=getNative(Array,"isArray");var MAX_SAFE_INTEGER=9007199254740991;function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=isArray},{}],23:[function(require,module,exports){var arrayCopy=require("lodash._arraycopy"),arrayEach=require("lodash._arrayeach"),createAssigner=require("lodash._createassigner"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),isPlainObject=require("lodash.isplainobject"),isTypedArray=require("lodash.istypedarray"),keys=require("lodash.keys"),toPlainObject=require("lodash.toplainobject");function isObjectLike(value){return!!value&&typeof value=="object"}var MAX_SAFE_INTEGER=9007199254740991;function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object)){return object}var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?undefined:keys(source);arrayEach(props||source,function(srcValue,key){if(props){key=srcValue;srcValue=source[key]}if(isObjectLike(srcValue)){stackA||(stackA=[]);stackB||(stackB=[]);baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB)}else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon){result=srcValue}if((result!==undefined||isSrcArr&&!(key in object))&&(isCommon||(result===result?result!==value:value===value))){object[key]=result}}});return object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){var length=stackA.length,srcValue=source[key];while(length--){if(stackA[length]==srcValue){object[key]=stackB[length];return}}var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon){result=srcValue;if(isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))){result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]}else if(isPlainObject(srcValue)||isArguments(srcValue)){result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}}else{isCommon=false}}stackA.push(srcValue);stackB.push(result);if(isCommon){object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB)}else if(result===result?result!==value:value===value){object[key]=result}}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}var merge=createAssigner(baseMerge);module.exports=merge},{"lodash._arraycopy":24,"lodash._arrayeach":25,"lodash._createassigner":26,"lodash.isarguments":31,"lodash.isarray":32,"lodash.isplainobject":33,"lodash.istypedarray":35,"lodash.keys":36,"lodash.toplainobject":38}],24:[function(require,module,exports){function arrayCopy(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}module.exports=arrayCopy},{}],25:[function(require,module,exports){function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}module.exports=arrayEach},{}],26:[function(require,module,exports){var bindCallback=require("lodash._bindcallback"),isIterateeCall=require("lodash._isiterateecall"),restParam=require("lodash.restparam");function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=object==null?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;if(typeof customizer=="function"){customizer=bindCallback(customizer,thisArg,5);length-=2}else{customizer=typeof thisArg=="function"?thisArg:undefined;length-=customizer?1:0}if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}while(++index<length){var source=sources[index];if(source){assigner(object,source,customizer)}}return object})}module.exports=createAssigner},{"lodash._bindcallback":27,"lodash._isiterateecall":28,"lodash.restparam":29}],27:[function(require,module,exports){function bindCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(thisArg===undefined){return func;

}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function identity(value){return value}module.exports=bindCallback},{}],28:[function(require,module,exports){var reIsUint=/^\d+$/;var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){var other=object[index];return value===value?value===other:other!==other}return false}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=isIterateeCall},{}],29:[function(require,module,exports){var FUNC_ERROR_TEXT="Expected a function";var nativeMax=Math.max;function restParam(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:+start||0,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length){rest[index]=args[start+index]}switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=rest;return func.apply(this,otherArgs)}}module.exports=restParam},{}],30:[function(require,module,exports){var funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=getNative},{}],31:[function(require,module,exports){function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}module.exports=isArguments},{}],32:[function(require,module,exports){arguments[4][22][0].apply(exports,arguments)},{dup:22}],33:[function(require,module,exports){var baseFor=require("lodash._basefor"),isArguments=require("lodash.isarguments"),keysIn=require("lodash.keysin");var objectTag="[object Object]";function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function isPlainObject(value){var Ctor;if(!(isObjectLike(value)&&objToString.call(value)==objectTag&&!isArguments(value))||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,typeof Ctor=="function"&&!(Ctor instanceof Ctor))){return false}var result;baseForIn(value,function(subValue,key){result=key});return result===undefined||hasOwnProperty.call(value,result)}module.exports=isPlainObject},{"lodash._basefor":34,"lodash.isarguments":31,"lodash.keysin":37}],34:[function(require,module,exports){var baseFor=createBaseFor();function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){var key=props[index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=baseFor},{}],35:[function(require,module,exports){var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var objToString=objectProto.toString;var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}module.exports=isTypedArray},{}],36:[function(require,module,exports){var getNative=require("lodash._getnative"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray");var reIsUint=/^\d+$/;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeKeys=getNative(Object,"keys");var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key)){result.push(key)}}return result}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}var keys=!nativeKeys?shimKeys:function(object){var Ctor=object==null?undefined:object.constructor;if(typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&isArrayLike(object)){return shimKeys(object)}return isObject(object)?nativeKeys(object):[]};function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=keys},{"lodash._getnative":30,"lodash.isarguments":31,"lodash.isarray":32}],37:[function(require,module,exports){var isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray");var reIsUint=/^\d+$/;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var MAX_SAFE_INTEGER=9007199254740991;function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=keysIn},{"lodash.isarguments":31,"lodash.isarray":32}],38:[function(require,module,exports){var baseCopy=require("lodash._basecopy"),keysIn=require("lodash.keysin");function toPlainObject(value){return baseCopy(value,keysIn(value))}module.exports=toPlainObject},{"lodash._basecopy":39,"lodash.keysin":37}],39:[function(require,module,exports){function baseCopy(source,props,object){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];object[key]=source[key]}return object}module.exports=baseCopy},{}],40:[function(require,module,exports){var toPath=require("lodash._topath"),isArray=require("lodash.isarray");var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;var reIsUint=/^\d+$/;var MAX_SAFE_INTEGER=9007199254740991;function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isKey(value,object){var type=typeof value;if(type=="string"&&reIsPlainProp.test(value)||type=="number"){return true}if(isArray(value)){return false}var result=!reIsDeepProp.test(value);return result||object!=null&&value in toObject(object)}function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function set(object,path,value){if(object==null){return object}var pathKey=path+"";path=object[pathKey]!=null||isKey(path,object)?[pathKey]:toPath(path);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=path[index];if(isObject(nested)){if(index==lastIndex){nested[key]=value}else if(nested[key]==null){nested[key]=isIndex(path[index+1])?[]:{}}}nested=nested[key]}return object}module.exports=set},{"lodash._topath":41,"lodash.isarray":42}],41:[function(require,module,exports){arguments[4][21][0].apply(exports,arguments)},{dup:21,"lodash.isarray":42}],42:[function(require,module,exports){arguments[4][22][0].apply(exports,arguments)},{dup:22}]},{},[15]);